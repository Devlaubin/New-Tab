<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Tab</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
    <link rel="icon" href="images/search.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Background particles -->
<div class="bg-particles" id="bgParticles"></div>

<!-- Menu Toggle Button -->
<div class="menu-toggle" id="menuToggle">
    <svg viewBox="0 0 24 24">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
</div>

<!-- Overlay -->
<div class="overlay" id="overlay"></div>

<!-- Sidebar -->
<aside class="sidebar" id="sidebar" aria-label="Param√®tres">
    <div class="sidebar-header">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
        <span class="sidebar-title">Param√®tres</span>
    </div>
    <div class="sidebar-body">
        <div class="sidebar-section">
            <div class="sidebar-section-title">Apparence</div>
            <button class="sidebar-btn" onclick="openThemeModal()">Changer le th√®me</button>
        </div>
        <div class="sidebar-section">
            <div class="sidebar-section-title">Profil</div>
            <button class="sidebar-btn" onclick="openNameModal()">Changer le pr√©nom</button>
            <button class="sidebar-btn" onclick="copyClipboard()">Partager le site</button>
        </div>
        <div class="sidebar-section">
            <div class="sidebar-section-title">Recherche</div>
            <button class="sidebar-btn" onclick="openEngineModal()">Moteur de recherche</button>
            <div class="setting-row">
                <span>Ouverture nouvel onglet</span>
                <label class="switch">
                    <input type="checkbox" id="toggleSecurity" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-row">
                <span>Renforcer la securit√©</span>
                <label class="switch">
                    <input type="checkbox" id="toggletab" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>
        <div class="sidebar-section">
            <div class="sidebar-section-title">Affichage</div>
            <div class="setting-row">
                <span>Afficher l'heure</span>
                <label class="switch">
                    <input type="checkbox" id="toggleTime" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-row">
                <span>Afficher la m√©t√©o</span>
                <label class="switch">
                    <input type="checkbox" id="toggleWeather" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-row">
                <span>Afficher les actualit√©s</span>
                <label class="switch">
                    <input type="checkbox" id="toggleNews" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-row">
                <span>Afficher les notes</span>
                <label class="switch">
                    <input type="checkbox" id="toggleNotes" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-row">
                <span>Afficher les raccourcis</span>
                <label class="switch">
                    <input type="checkbox" id="toggleShortcuts" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>
        <div class="sidebar-section">
            <div class="sidebar-section-title">Plus</div>
        <button class="sidebar-btn" onclick="window.open('https://github.com/')">Soutenir Devlaubin</button>
        <button class="sidebar-btn" onclick="window.open('https://github.com/Devlaubin/New-Tab/issues/1')">FAQ</button>
        <button class="sidebar-btn" onclick="window.open('https://github.com/Devlaubin/New-Tab/blob/main/README.md#-new-tab-page')">README</button>
    </div>
</aside>

<!-- Main container -->
<main class="container" id="mainContainer">

    <!-- Time & Greeting -->
    <div class="time-section fade-in" id="timeSection">
        <div class="greeting-name" id="greetingName"></div>
        <div class="time" id="time">00:00</div>
        <div class="date" id="date"></div>
    </div>

    <!-- Search -->
    <div class="search-section fade-in">
        <div class="search-box">
            <button class="search-engine-btn" id="engineBtn" onclick="openEngineModal()">
                <img id="engineIcon" src="" alt=""> <span id="engineLabel">Google</span>
            </button>
            <input type="text" class="search-input" id="searchInput"
                placeholder="Rechercher ou entrer une URL..." autocomplete="off" aria-label="Recherche">
            <div class="suggestions" id="suggestions"></div>
        </div>
    </div>

    <!-- Shortcuts -->
    <div class="shortcuts-section fade-in" id="shortcutsSection">
        <div class="shortcuts-grid" id="shortcutsGrid"></div>
    </div>

    <!-- Weather -->
    <div class="weather-section fade-in" id="weatherSection">
        <div class="weather-left">
            <div class="weather-icon-big" id="weatherIcon">‚è≥</div>
            <div>
                <div class="weather-temp" id="weatherTemp">--¬∞C</div>
                <div class="weather-desc" id="weatherDesc">Chargement...</div>
                <div class="weather-city" id="weatherCity">üìç Tours</div>
            </div>
        </div>
        <div class="weather-forecast" id="weatherForecast"></div>
    </div>

    <!-- News -->
    <div class="news-section fade-in" id="newsSection">
        <div class="news-container" id="newsContainer">
            <div class="news-loading">üì∞ Chargement des actualit√©s...</div>
        </div>
    </div>

    <!-- Notes -->
    <div class="notes-section fade-in" id="notesSection">
        <textarea class="notes-area" id="notesArea" placeholder="Notes rapides... (sauvegard√©es automatiquement)" rows="2"></textarea>
    </div>

</main>

<!-- THEME MODAL -->
<div class="modal-overlay" id="themeModal">
    <div class="modal">
        <div class="modal-title">Choisir un th√®me</div>
        <div class="color-grid" id="colorGrid"></div>
        <div class="modal-btns">
            <button class="btn btn-secondary" onclick="closeModal('themeModal')">Fermer</button>
        </div>
    </div>
</div>

<!-- NAME MODAL -->
<div class="modal-overlay" id="nameModal">
    <div class="modal">
        <div class="modal-title">Votre pr√©nom</div>
        <p class="name-label">Entrez votre pr√©nom pour personnaliser la page :</p>
        <input type="text" class="modal-input" id="nameInput" placeholder="ex: Alex" maxlength="30">
        <div class="modal-btns">
            <button class="btn btn-secondary" onclick="closeModal('nameModal')">Annuler</button>
            <button class="btn btn-primary" onclick="saveName()">Enregistrer</button>
        </div>
    </div>
</div>

<!-- ENGINE MODAL -->
<div class="modal-overlay" id="engineModal">
    <div class="modal">
        <div class="modal-title"> Moteur de recherche</div>
        <div class="engine-grid" id="engineGrid"></div>
        <div class="modal-btns">
            <button class="btn btn-secondary" onclick="closeModal('engineModal')">Fermer</button>
        </div>
    </div>
</div>

<!-- SHORTCUT MODAL -->
<div class="modal-overlay" id="shortcutModal">
    <div class="modal">
        <div class="modal-title">Ajouter un raccourci</div>
        <p class="name-label">Nom du site :</p>
        <input type="text" class="modal-input" id="shortcutName" placeholder="ex: GitHub" maxlength="25">
        <p class="name-label">URL :</p>
        <input type="text" class="modal-input" id="shortcutUrl" placeholder="ex: https://github.com">
        <div class="modal-btns">
            <button class="btn btn-secondary" onclick="closeModal('shortcutModal')">Annuler</button>
            <button class="btn btn-primary" onclick="saveShortcut()">Ajouter</button>
        </div>
    </div>
</div>

<!-- FIRST VISIT NAME MODAL -->
<div class="modal-overlay" id="firstVisitModal">
    <div class="modal">
        <div class="modal-title">üëã Bienvenue !</div>
        <p class="name-label" style="margin-bottom:12px;font-size:14px;color:#555;">Comment vous appelez-vous ? (optionnel)</p>
        <input type="text" class="modal-input" id="firstNameInput" placeholder="Votre pr√©nom..." maxlength="30">
        <div class="modal-btns">
            <button class="btn btn-secondary" onclick="saveFirstName(false)">Passer</button>
            <button class="btn btn-primary" onclick="saveFirstName(true)">Commencer</button>
        </div>
    </div>
</div>

<script src="index.js"></script>
</body>
</html>